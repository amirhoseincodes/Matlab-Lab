% محاسبه حجم پوسته کروی و رسم نمودار

% تعریف مقادیر شعاع
r2 = 2;              % شعاع داخلی ثابت
r1 = 3:10;           % شعاع خارجی متغیر از 3 تا 10

% محاسبه حجم برای هر شعاع خارجی
V = (4/3) * pi * (r1.^3 - r2^3);  % استفاده از عملگر .^ برای محاسبه توان عنصر به عنصر

% رسم نمودار
figure;              % ایجاد پنجره جدید برای نمودار
plot(r1, V, '-o', 'LineWidth', 2, 'MarkerFaceColor', 'r');  % رسم خط با نقاط دایره‌ای
xlabel('شعاع خارجی (r_1)');       % عنوان محور x
ylabel('حجم پوسته کروی');         % عنوان محور y
title('حجم پوسته کروی برحسب شعاع خارجی');  % عنوان نمودار
grid on;             % نمایش شبکه نمودار

% ذخیره نمودار
saveas(gcf, '../Data/Results/Spherical_Volume_Plot.png');  % ذخیره به عنوان تصویر PNG

% نمایش جدول مقادیر
T = table(r1', V', 'VariableNames', {'شعاع خارجی', 'حجم'});
disp('جدول مقادیر حجم پوسته کروی:');
disp(T);

% ذخیره نتایج به صورت فایل متنی
writetable(T, '../Data/Results/Spherical_Volume_Results.txt');